/* ==UserStyle==
@name         Youtube revert glass UI (Optimized)
@version      20260130.17.15
@namespace    ?
@description  Makes new UI look like an old one. Optimized for easier maintenance.
@license      No License
==/UserStyle== */

@-moz-document domain("youtube.com") {
/* ==========================================================================
       1. CONFIGURATION & VARIABLES
       ========================================================================== */
    :root {
        /* --- Colors & Dimensions --- */
        --toolbar-height: 50px;
        --element-margin: 6px;
        --element-height: calc(var(--toolbar-height) - var(--element-margin));
        --bg-color: #0000; /* Transparent background */
        
        /* --- EFYT (Enhancer for YouTube) Alignment Settings --- */
        /* Modify these values to fix broken alignments after updates */
        --efyt-btn-scale: 1;
        --efyt-group-x: 1rem;   /* Horizontal shift for the group of EFYT buttons */
        --efyt-group-y: -0rem;  /* Vertical shift for the group */
        
        /* Fullscreen overrides for EFYT */
        --efyt-fs-group-x: 0.5rem;
        --efyt-fs-group-y: -2rem;

        /* --- Default Button Transforms (Base State) --- */
        /* These update automatically based on logic below */
        --play-x: 0.4rem;   --play-y: 0.2rem;
        --next-x: -0.3rem;  --next-y: 0.1rem;
        --vol-x: 0rem;      --vol-y: 0.1rem;
        --set-x: -1rem;     --set-y: -0.6rem;
    }

    /* ==========================================================================
       2. LOGIC CONTROLLER (Handle Extensions & Modes)
       ========================================================================== */
    
    /* A. STATE: Default (Small Mode) with NO Extensions */
    .ytp-delhi-modern:not(:has(#efyt-controls-button)):not(:has(#startSegmentButton)) {    
    
        .ytp-settings-button {
            transform: scale(1.9) translate(calc(0.2rem + 0.05rem), calc(0rem + 0.05rem)) !important;
        }
    }
    /* B. STATE: Fullscreen (Big Mode) Defaults */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #movie_player .ytp-chrome-bottom,
    #movie_player.ytp-big-mode .ytp-chrome-bottom {
        --play-x: -0.5rem;  --play-y: 0.3rem;
        --set-x: -1.5rem;   --set-y: -1.5rem;
        --vol-y: -0.05rem;
        --next-x: 0rem;     --next-y: 0rem;
    }

    /* C. STATE: Enhancer for YouTube is PRESENT */
    #movie_player .ytp-chrome-bottom:has(#efyt-controls-button) {
        --play-x: 0.3rem;   --play-y: 0.3rem;
        --next-y: 0.2rem;
        --vol-y: 0.2rem;
        --set-x: -1rem;     --set-y: -0.6rem;
    }
    
    /* D. STATE: Fullscreen + EFYT */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #movie_player .ytp-chrome-bottom:has(#efyt-controls-button) {
        --play-x: 0.5rem;   --play-y: 0.1rem;
        --set-x: -1.7rem;   --set-y: -1.5rem;
        --vol-y: 0rem;      /* Reset volume Y */
    }

    /* E. STATE: SponsorBlock is PRESENT */
    #movie_player .ytp-chrome-bottom:has(#startSegmentButton) {
        --play-x: 0.3rem;   --play-y: 0.2rem;
        --next-x: -0.3rem;  --next-y: 0.2rem;
        --vol-y: 0.3rem;
        --set-x: -0rem;     --set-y: -0rem;
    }

    /* F. STATE: Fullscreen + SponsorBlock */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #movie_player .ytp-chrome-bottom:has(#startSegmentButton) {
        --next-x: 0.2rem;   --next-y: 0.2rem;
        --vol-y: 0rem;
        --set-x: -1.5rem;   --set-y: -1.5rem;
    }

    /* ==========================================================================
       3. COMPONENT STYLING
       ========================================================================== */

    /* --- Base Variables & Colors --- */
    /*OPTION (next 2 rules) to make volume slider red*/
    .ytp-volume-slider-handle::before{
        background-color:#f82723;
    }
    .ytp-volume-slider-handle{
        background: #f82723;
    }
    
    .ytd-player, .yt-lockup-view-model__content-image, .ytd-topbar-logo-renderer, .ytd-thumbnail {
        --main-color: #f82723;
    }
    
    /* --- APPLY CALCULATED TRANSFORMS --- */
    /* This section applies the logic determined in Section 2 */
    
    .ytp-play-button {
        transform: translate(var(--play-x), var(--play-y)) !important;
    }
    .ytp-prev-button{
        transform: translate(var(--next-x), var(--next-y));
    }
    .ytp-next-button {
        /*OPTION (next rule only) make next (or skip) button visible when not in playlist*/
        display: block !important;
        
        transform: translate(var(--next-x), var(--next-y));
    }
    .ytp-volume-area {
        transform: translateY(var(--vol-y));
    }
    .ytp-settings-button {
        overflow: visible !important;
        transform: scale(1.9) translate(calc(var(--set-x) + 0.05rem), calc(var(--set-y) + 0.05rem)) !important;
        svg {
            transform:  translate(-0.05rem, -0.05rem);
        }
    }
    .ytp-settings-button.ytp-hd-quality-badge::after {
        /* Calculates badge position relative to settings button offset */
        transform: scale(0.7) translateX(-0.4rem)!important;
    }

    /* --- Remove Liquid Glass Hover Effects --- */
    .ytp-delhi-modern .ytp-play-button:hover::after,
    .ytp-delhi-modern .ytp-prev-button:hover::after,
    .ytp-delhi-modern .ytp-next-button:hover::after,
    .ytp-volume-area:hover::after,
    .ytp-chapter-title:hover::after,
    .ytp-time-wrapper.ytp-time-wrapper-delhi:hover::after,
    .ytp-delhi-modern .ytp-chrome-controls .ytp-right-controls .ytp-button:hover::before,
    #efyt-volume-booster:hover::after,
    #efyt-loop:hover::after{
        background-color: unset !important;
    }

    /* --- General Layout Fixes --- */
    .playerButtonImage { padding-bottom: 20px; }
    .ytp-autonav-toggle-button { top: 40%; transform: translate(0rem, -0.4rem); }

    /* Tooltips & Bars */
    .ytp-delhi-modern .ytp-tooltip { margin-top: 12px !important; }
    
    .ytp-delhi-modern .ytp-chrome-bottom,
    .ytp-delhi-modern .ytp-chrome-controls {
        height: var(--toolbar-height) !important;
        line-height: var(--toolbar-height) !important;
    }
    
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-chrome-bottom,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-right-controls .ytp-right-controls-right,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-right-controls .ytp-right-controls-left {
        height: var(--toolbar-height) !important;
        line-height: var(--toolbar-height) !important;
    }

    /* Progress Bar Positioning */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-progress-bar-container,
    .ytp-delhi-modern:not(.ytp-player-minimized) .ytp-progress-bar-container {
        bottom: var(--toolbar-height) !important;
    }
    
    /* Overlays */
    .ytp-delhi-modern.ytp-big-mode.ytp-fullscreen-grid-peeking .ytp-overlays-container,
    .ytp-delhi-modern.ytp-fullscreen-grid-peeking .ytp-overlays-container {
        bottom: calc( var(--toolbar-height) + 20px) !important;
    }

    /* Margins & Padding reset */
    .ytp-delhi-modern .ytp-chrome-controls .ytp-right-controls,
    .ytp-delhi-modern .ytp-prev-button:not(.ytp-miniplayer-button-container>*),
    .ytp-delhi-modern .ytp-chrome-controls .ytp-next-button:not(.ytp-miniplayer-button-container>*).ytp-playlist-ui,
    .ytp-delhi-modern.ytp-delhi-horizontal-volume-controls .ytp-volume-area,
    .ytp-delhi-modern .ytp-time-display:not(.ytp-miniplayer-ui *),
    .ytp-delhi-modern .ytp-chapter-container {
        margin: var(--element-margin) 0 !important;
        padding: 0 !important;
    }

    /* --- Play Button Sizing --- */
    .ytp-delhi-modern .ytp-chrome-controls .ytp-play-button {
        --size: var(--element-height);
        height: var(--size) !important;
        width: var(--size) !important;
        top: -2px;
        background: var(--bg-color) !important;
    }
    
    .ytp-delhi-modern-icons .ytp-chrome-controls .ytp-play-button svg {
        padding: 10px !important;
        --size: 40px;
        height: var(--size) !important;
        width: var(--size) !important;
        transform: translate(-1.5rem, -0.9rem);
    }

    /* --- Background Gradient --- */
    .ytp-chrome-bottom:after {
        content: '';
        position: absolute;
        left: -100px;
        bottom: -2px;
        width: calc(100% + 200px);
        background: linear-gradient(0deg, #000a, #0000);
        height: calc(var(--toolbar-height) + 10px);
        z-index: -1;
    }

    /* --- Fullscreen Fixes (Sizes) --- */
    .ytp-big-mode .ytp-volume-slider,
    .ytp-delhi-modern .ytp-chrome-controls .ytp-mute-button,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-time-display,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-chrome-controls .ytp-next-button:not(.ytp-miniplayer-button-container>*),
    .ytp-big-mode.ytp-delhi-modern .ytp-chrome-controls .ytp-prev-button:not(ytp-miniplayer-button-container>*),
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-time-wrapper,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-chapter-title.ytp-button {
        height: var(--element-height) !important;
        min-height: var(--element-height) !important;
        line-height: var(--element-height) !important;
        margin-top: 0px !important;
        margin-bottom: 0px !important;
        --element-margin: 2px;
        background: var(--bg-color) !important;
    }

    /* SVG Vertical Alignments in Big Mode */
    .ytp-big-mode.ytp-delhi-modern-icons .ytp-chrome-controls .ytp-button svg,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-chrome-controls .ytp-next-button:not(.ytp-miniplayer-button-container>*) svg,
    .ytp-big-mode.ytp-delhi-modern .ytp-chrome-controls .ytp-prev-button:not(ytp-miniplayer-button-container>*) svg {
        padding-top: 14px;
    }

    /* --- Background Color Application --- */
    .ytp-delhi-modern .ytp-time-wrapper:not(.ytp-miniplayer-ui *),
    .ytp-delhi-modern.ytp-delhi-horizontal-volume-controls .ytp-volume-area,
    .ytp-delhi-modern .ytp-chrome-controls .ytp-right-controls,
    .ytp-delhi-modern .ytp-chrome-controls > * > *,
    .ytp-delhi-modern .ytp-chapter-title.ytp-button {
        background: var(--bg-color) !important;
    }

    /* ==========================================================================
       4. EXTENSION SPECIFIC STYLES (EFYT & SponsorBlock)
       ========================================================================== */

    /* --- Enhancer for YouTube (EFYT) Grouping --- */
    /* If alignment is broken, adjust --efyt-group-x/y in :root */
    
    #efyt-controls-button {
        transform: translate(0.5rem, -0rem);
    }
    
    /* Group all standard EFYT buttons */
    #efyt-flip-vertically, #efyt-keyboard-shortcuts, #efyt-options, 
    #efyt-video-filters, #efyt-speed, #efyt-pop-up-player, 
    #efyt-size, #efyt-cinema-mode, #efyt-cards-end-screens, #efyt-screenshot {
        transform: translate(var(--efyt-group-x), var(--efyt-group-y));
    }
    
    /* EFYT Specific Icons */
    .ytp-efyt-button { transform: translate(-9px, -12px); }
    #efyt-loop { transform: translate(0rem, 0rem); }
    #efyt-volume-booster { transform: translate(-0.4rem, 0.6rem); }
    #efyt-volume-booster svg { transform: translate(-0.5rem, -0.6rem); }

    /* EFYT: Fullscreen Overrides */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-volume-booster svg {
        transform: translate(-1.1rem, -1.4rem);
    }
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-loop svg {
        height: 110% !important; width: 110% !important;
        transform: translate(-0.8rem, -0.8rem);
    }
    .ytp-delhi-modern.ytp-delhi-horizontal-volume-controls.ytp-big-mode:not(.ytp-xsmall-width-mode) .ytp-volume-icon {
        height: 150%; width: 150%;
        transform: translate(-0.8rem, -1rem);
    }
    
    /* Fullscreen EFYT Group Positioning */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-controls-button {
        transform: translate(2rem, -2.1rem);
        overflow: visible;
    }
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-controls-button svg {
         transform: translate(0.1rem, 0.1rem);
    }

    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-flip-vertically,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-keyboard-shortcuts,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-options,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-video-filters,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-speed,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-pop-up-player,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-size,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-cinema-mode,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-cards-end-screens,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #efyt-screenshot {
        transform: translate(var(--efyt-fs-group-x), var(--efyt-fs-group-y));
    }
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) :is(#efyt-flip-vertically, #efyt-keyboard-shortcuts, #efyt-options, #efyt-video-filters, #efyt-speed, #efyt-pop-up-player, #efyt-size, #efyt-cinema-mode, #efyt-cards-end-screens, #efyt-screenshot) svg {
        transform: translate(1rem, 0rem);
    }

    /* --- SponsorBlock (SB) --- */
    #startSegmentButton, #submitButton, #deleteButton, #cancelSegmentButton, #infoButton:not(.sbhidden) {
        transform: translateY(0.9rem);
    }
    
    /* SponsorBlock Fullscreen */
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #startSegmentButton,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #submitButton,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #deleteButton,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #cancelSegmentButton,
    .ytp-delhi-modern.ytp-big-mode:not(.ytp-xsmall-width-mode) #infoButton:not(.sbhidden) {
        transform: translateY(0.3rem);
    }

    /* ==========================================================================
       5. ICON REPLACEMENTS (Restoring Old Icons)
       ========================================================================== */
    
    /* Play/Pause/Replay */
    .ytp-play-button[data-title-no-tooltip="Play"] svg path,
    .ytp-play-button[data-title-no-tooltip="Lire"] svg path { d: path("M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"); }
    .ytp-play-button[data-title-no-tooltip="Pause"] svg path { d: path("M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z"); }
    
    [d*="M 12.75 4.5 L 9.75 4.5 C 9.15 4.5"] { d: path("M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z"); }
    [d*="M4 4C3.73 4 3.48 4.10 3.29 4.29"] { d: path("m 12,12 h 2 v 12 h -2 z m 3.5,6 8.5,6 V 12 z"); transform: scale(1.36) translate(-9px, -9px); }
    [d*="M20 20C20.26 20 20.51 19.89 20.70 19.70"] { d: path("M 12,24 20.5,18 12,12 V 24 z M 22,12 v 12 h 2 V 12 h -2 z"); transform: scale(1.36) translate(-9px, -9px); }

    /* Volume */
    .ytp-volume-icon:has(svg > path:nth-of-type(1)):not(:has(svg > path:nth-of-type(2))) svg {
        transform: translate(-0.6rem, -0.2rem);
    }
    .ytp-volume-icon > svg:nth-child(1) { height: 60%; width: 60%; transform: translate(-0.8rem, -0.4rem); }
    
    .ytp-svg-fill { d: path("M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"); transform: translate(-0.25rem, -0.35rem); }
    .ytp-svg-volume-animation-small-ripple, .ytp-svg-volume-animation-big-ripple { d: none; transform: none; }
    
    /* Mute Icon Replacement */
    [d*="M11.60 2.08L11.48 2.14L3.91 6.68"] { d: path("m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z"); transform: translate(-6px, -6px); }

    /* Subtitles */
    .ytp-subtitles-button-icon svg { d: path("M11,11 C9.9,11 9,11.9 9,13 L9,23 C9,24.1 9.9,25 11,25 L25,25 C26.1,25 27,24.1 27,23 L27,13 C27,11.9 26.1,11 25,11 L11,11 Z M11,17 L14,17 L14,19 L11,19 L11,17 L11,17 Z M20,23 L11,23 L11,21 L20,21 L20,23 L20,23 Z M25,23 L22,23 L22,21 L25,21 L25,23 L25,23 Z M25,19 L16,19 L16,17 L25,17 L25,19 L25,19 Z"); transform: scale(1.2) translate(-.0rem, 0rem); }
    
    /* Settings Gear */
    .ytp-settings-button svg path { d: path("M15.96 12.52c.02-.17.04-.35.04-.52s-.01-.35-.04-.52l1.12-.88c.1-.08.13-.22.06-.34l-1.07-1.84c-.06-.11-.2-.16-.31-.12l-1.33.54a4.72 4.72 0 0 0-.9-.52l-.2-1.42c-.01-.13-.13-.22-.26-.22h-2.13c-.13 0-.25.09-.26.22l-.2 1.42a4.72 4.72 0 0 0-.9.52l-1.33-.54a.27.27 0 0 0-.32.12l-1.07 1.84a.28.28 0 0 0 .06.34l1.12.88c-.02.17-.04.35-.04.52s.01.35.04.52l-1.12.88a.28.28 0 0 0-.06.34l1.07 1.84a.27.27 0 0 0 .32.12l1.33-.54c.27.2.57.38.9.52l.2 1.42c.01.13.13.22.26.22h2.13c.13 0 .25-.09.26-.22l.2-1.42c.33-.14.63-.31.9-.52l1.33.54c.11.04.25 0 .31-.12l1.07-1.84a.28.28 0 0 0-.06-.34l-1.12-.88zm-3.96 1.34a1.87 1.87 0 1 1 0-3.74 1.87 1.87 0 0 1 0 3.74z"); }
    
    /* Size Button */
    .ytp-size-button svg path { d: path("m 26,13 0,10 -16,0 0,-10 z m -14,2 12,0 0,6 -12,0 0,-6 z"); transform: scale(1.2) translate(-8px, -9px); fill: rgb(255, 255, 255); fill-rule: evenodd; }

    /* Fullscreen Button */
    .ytp-fullscreen-button svg path { d: path("M7,11H6V6h5v1H7V11z M18,6h-5v1h4v4h1V6z M18,13h-1v4h-4v1h5V13z M11,17H7v-4H6v5h5V17z") !important; transform: scale(1.5) translate(-0.5rem, -0.5rem); }
    .ytp-fullscreen-button { overflow: unset !important; }
    .ytp-fullscreen-button::after { content: ''; position: absolute; inset-block: -10px; inset-inline: 0px; width: 220px !important; height: 200px; }

    /* Misc Icons */
    [d*="M21.20 3.01C21.66 3.05"] { d: path("M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z"); transform: scale(1.083) translate(-6.75px, -6.75px); }
    
    /*subtitles*/
    [d^="M21.20 3.01L21 3H3L2.79 3.01C2.30 3.06 1.84 3.29"] {
  d: path("M19,4H5C3.9,4,3,4.9,3,6v12c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6C21,4.9,20.1,4,19,4z M19,18H5V6h14V18z M7,11h2c0.55,0,1,0.45,1,1s-0.45,1-1,1H7c-0.55,0-1-0.45-1-1S6.45,11,7,11z M13,11h4c0.55,0,1,0.45,1,1s-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1S12.45,11,13,11z M7,14h4c0.55,0,1,0.45,1,1s-0.45,1-1,1H7c-0.55,0-1-0.45-1-1S6.45,14,7,14z M15,14h2c0.55,0,1,0.45,1,1s-0.45,1-1,1h-2c-0.55,0-1-0.45-1-1S14.45,14,15,14z")}
  [d^="M21 3H3C2.46 3 1.96 3.21 1.58 3.58C1.21"]{
d: path("M19,4H5C3.9,4,3,4.9,3,6v12c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6C21,4.9,20.1,4,19,4z M19,18H5V6h14V18z M7,11h2c0.55,0,1,0.45,1,1s-0.45,1-1,1H7c-0.55,0-1-0.45-1-1S6.45,11,7,11z M13,11h4c0.55,0,1,0.45,1,1s-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1S12.45,11,13,11z M7,14h4c0.55,0,1,0.45,1,1s-0.45,1-1,1H7c-0.55,0-1-0.45-1-1S6.45,14,7,14z M15,14h2c0.55,0,1,0.45,1,1s-0.45,1-1,1h-2c-0.55,0-1-0.45-1-1S14.45,14,15,14z M4,22h16c0.55,0,1,0.45,1,1s-0.45,1-1,1H4c-0.55,0-1-0.45-1-1S3.45,22,4,22z")
  }

    [d*="M3.29 3.29C3.11 3.46 3.01 3.70"] { d: path("M10,10H6V9h3V6h1V10z M18,9h-3V6h-1v4h4V9z M15,15h3v-1h-4v4h1V15z M10,14H6v1h3v3h1V14z"); transform: scale(1.5) translate(-4px, -4px); }
    [d*="M12 .99C5.92 .99 1 5.92 1 11.99"] { d: path("M7 13H5v-2h2v2zm3-4H8v6h2V9zm3-3h-2v12h2V6zm3 2h-2v8h2V8zm3 2h-2v4h2v-4zm-7-7c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9m0-1c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2z"); }
    [d*="M9.65 6.00L9.5 6H2.5L2.34"] { d: path("M17.5,7c1.93,0,3.5,1.57,3.5,3.5c0,1-0.53,4.5-0.85,6.5h-2.02l0.24-1.89l0.14-1.09l-1.1-0.03C15.5,13.94,14,12.4,14,10.5 C14,8.57,15.57,7,17.5,7             M6.5,7C8.43,7,10,8.57,10,10.5c0,1-0.53,4.5-0.85,6.5H7.13l0.24-1.89l0.14-1.09l-1.1-0.03 C4.5,13.94,3,12.4,3,10.5C3,8.57,4.57,7,6.5,7             M17.5,6C15.01,6,13,8.01,13,10.5c0,2.44,1.95,4.42,4.38,4.49L17,18h4c0,0,1-6,1-7.5 C22,8.01,19.99,6,17.5,6L17.5,6z             M6.5,6C4.01,6,2,8.01,2,10.5c0,2.44,1.95,4.42,4.38,4.49L6,18h4c0,0,1-6,1-7.5 C11,8.01,8.99,6,6.5,6L6.5,6z"); }
    [d*="M19.4 .2C19.29 .27 19.20 .37"] { d: path("M11.72,11.93C13.58,11.59,15,9.96,15,8c0-2.21-1.79-4-4-4C8.79,4,7,5.79,7,8c0,1.96,1.42,3.59,3.28,3.93 C4.77,12.21,2,15.76,2,20h18C20,15.76,17.23,12.21,11.72,11.93z            M8,8c0-1.65,1.35-3,3-3s3,1.35,3,3s-1.35,3-3,3S8,9.65,8,8z            M11,12.9c5.33,0,7.56,2.99,7.94,6.1H3.06C3.44,15.89,5.67,12.9,11,12.9z            M16.68,11.44l-0.48-0.88C17.31,9.95,18,8.77,18,7.5 c0-1.27-0.69-2.45-1.81-3.06l0.49-0.88C18.11,4.36,19,5.87,19,7.5C19,9.14,18.11,10.64,16.68,11.44z            M18.75,13.13l-0.5-0.87 C19.95,11.28,21,9.46,21,7.5s-1.05-3.78-2.75-4.76l0.5-0.87C20.75,3.03,22,5.19,22,7.5S20.76,11.97,18.75,13.13z"); }
    .ytp-delhi-modern .ytp-settings-menu .ytp-menuitem [d*="M21.20 3.01L21 3H3L2.79 3.01C2.30 3.06"] { d: path("M6,14v-4c0-0.55,.45-1,1-1h3c0.55,0,1,.45,1,1v1H9.5v-0.5h-2v3h2V13H11v1c0,.55-0.45,1-1,1H7C6.45,15,6,14.55,6,14z            M14,15h3c0.55,0,1-0.45,1-1v-1h-1.5v0.5h-2v-3h2V11H18v-1c0-0.55-0.45,1-1-1h-3c-0.55,0-1,.45-1,1v4C13,14.55,13.45,15,14,15z            M20,4H4v16h16V4 M21,3v18H3V3.01C3,3,3,3,3.01,3H21L21,3z"); transform: translate(0, 0); }
    [d*="M12.33 1.00C12.22 1.00 12.11 1.00 12 1"] { d: path("M16.67,4.31C19.3,5.92,21,8.83,21,12c0,4.96-4.04,9-9,9c-2.61,0-5.04-1.12-6.72-3.02C5.52,17.99,5.76,18,6,18 c6.07,0,11-4.93,11-11C17,6.08,16.89,5.18,16.67,4.31 M14.89,2.43C15.59,3.8,16,5.35,16,7c0,5.52-4.48,10-10,10 c-1,0-1.97-0.15-2.89-0.43C4.77,19.79,8.13,22,12,22c5.52,0,10-4.48,10-10C22,7.48,19,3.67,14.89,2.43L14.89,2.43z M12,6H6v1h4.5 L6,10.99v0.05V12h6v-1H7.5L12,7.01V6.98V6L12,6z"); }
    [d*="M9.80 1.22C8.59 1.46 7.44 1.91"] { d: path("M10,8v8l6-4L10,8L10,8z M6.3,5L5.7,4.2C7.2,3,9,2.2,11,2l0.1,1C9.3,3.2,7.7,3.9,6.3,5z            M5,6.3L4.2,5.7C3,7.2,2.2,9,2,11 l1,.1C3.2,9.3,3.9,7.7,5,6.3z            M5,17.7c-1.1-1.4-1.8-3.1-2-4.8L2,13c0.2,2,1,3.8,2.2,5.4L5,17.7z            M11.1,21c-1.8-0.2-3.4-0.9-4.8-2 l-0.6,.8C7.2,21,9,21.8,11,22L11.1,21z            M22,12c0-5.2-3.9-9.4-9-10l-0.1,1c4.6,.5,8.1,4.3,8.1,9s-3.5,8.5-8.1,9l0.1,1 C18.2,21.5,22,17.2,22,12z"); }
    [d*="M9 3C8.11 2.99 7.25 3.29 6.54 3.83"] { d: path("M15,17h6v1h-6V17z M11,17H3v1h8v2h1v-2v-1v-2h-1V17z M14,8h1V6V5V3h-1v2H3v1h11V8z            M18,5v1h3V5H18z M6,14h1v-2v-1V9H6v2H3v1 h3V14z M10,12h11v-1H10V12z"); }
    [d*="m 17,23 h 2 V 17 H 17 Z M 18,8 C 12.47,8 8,12.47 8,18 8,23.52"] { d: path("M18,8 C12.47,8 8,12.47 8,18 C8,23.52 12.47,28 18,28 C23.52,28 28,23.52 28,18 C28,12.47 23.52,8 18,8 L18,8 Z M17,16 L19,16 L19,24 L17,24 L17,16 Z M17,12 L19,12 L19,14 L17,14 L17,12 Z"); }

    /* ==========================================================================
       6. GLOBAL & FULLSCREEN BEHAVIORS
       ========================================================================== */
    html:has(#movie_player.ytp-fullscreen),
    body:has(#movie_player.ytp-fullscreen),
    html:has(#movie_player.ytp-fullscreen) ytd-app,
    html:has(#movie_player.ytp-fullscreen) #page-manager {
        overflow: hidden !important;
        height: 100vh !important;
        overscroll-behavior: none !important;
    }
}





    /* ==========================================================================
       6. YOUTUBE EMBED FIX
       ========================================================================== */


html:not(:has(ytd-app)) #movie_player .ytp-chrome-bottom {
    
    /*Finally got a selector for embeds, now we'll bang our head against walls again*/
}












@-moz-document domain("youtube.com") {
/* Video endscreen fix */
    .ytp-fullscreen-grid-active.html5-video-player.ended-mode .ytp-modern-videowall-still:nth-child(n+4) {
        display: block;
    }
    .ytp-fullscreen-grid-active.html5-video-player.ended-mode .ytp-modern-videowall-still:nth-child(n+11),
    .ytp-fullscreen-grid-expand-button {
        display: none;
    }
    .ytp-fullscreen-grid-active.ytp-grid-scrollable .ytp-fullscreen-grid {
        top: 10%;
    }
    .ytp-fullscreen-grid-stills-container {
        grid-template-columns: repeat(5, 1fr);
    }
}
